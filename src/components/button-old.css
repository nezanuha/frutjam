@import "../themes/styles/base.css";
@import "../themes/animation/wiggle.css";

@utility btn-* {
  @layer components {
    @apply relative inline-flex self-start shrink-0 flex-nowrap items-center justify-center gap-1.5 text-center align-middle font-medium overflow-hidden text-xs transition duration-300 leading-4;

    &:not(.btn-link) {
      @apply rounded-[var(--radius-size)];
    }

    /* Shared hover effect for buttons */
    &:is(.btn-base, .btn-primary, .btn-secondary, .btn-success, .btn-error, .btn-warning, .btn-info, .btn-accent):not(.btn-link) {
      @media (hover: hover) {
        &:hover::before {
          @apply content-[''] absolute size-full animate-wiggle bg-[radial-gradient(#ffffff33,_#00000000)];
        }
      }
    }

    /* Checkbox and radio button styles */
    &:is(input[type="checkbox"], input[type="radio"]) {
      @apply appearance-none;

      &::after {
        content: attr(aria-label);
      }

      &:checked {
        @apply ring-1 bg-gradient-to-tr via-[--value(--color-*)]/90 isolate;
      }
    }

    /* Disabled button styles */
    &:is(:disabled, [disabled], .btn-disabled) {
      @apply bg-[--value(--color-*)]/10 text-[--value(--color-*)]/30 pointer-events-none;
    }

    /* Button colors */
    &:not(.btn-dashed, .btn-outline, .btn-soft, :disabled, [disabled], .btn-disabled) {
      &:not(.btn-ghost, .btn-link) {
        @apply text-[--value(--color-*-fore)] bg-gradient-to-br from-[--value(--color-*)] via-[--value(--color-*)]/95 to-[--value(--color-*)] ring-[0.5px] ring-[--value(--color-*)]/50;
      }
      &:is(.btn-ghost, .btn-link) {
        @apply text-[--value(--color-*)];
      }

      &.btn-link:hover,
      &.btn-link.btn-active {
        @apply underline underline-offset-4 cursor-pointer;
      }

      @media (hover: hover) {
        &:hover:not(.btn-link) {
          @apply ring-1 bg-gradient-to-tr via-[--value(--color-*)]/90;
        }
        &:hover.btn-ghost {
          @apply text-[--value(--color-*-fore)] from-[--value(--color-*)] to-[--value(--color-*)] ring-[--value(--color-*)]/50 duration-500;
        }
      }
    }

    /* Dashed button styles */
    &.btn-dashed {
      @apply text-[--value(--color-*)] bg-transparent border border-dashed border-[--value(--color-*)];

      @media (hover: hover) {
        &:hover {
          @apply ring-1 text-surface bg-[--value(--color-*)] bg-gradient-to-br from-[--value(--color-*)] via-[--value(--color-*)]/95 to-[--value(--color-*)];
        }
      }
    }

    /* Outline button styles */
    &.btn-outline {
      @apply text-[--value(--color-*)] bg-transparent ring-1 ring-[--value(--color-*)];

      @media (hover: hover) {
        &:hover {
          @apply ring-1 text-surface bg-[--value(--color-*)] bg-gradient-to-br from-[--value(--color-*)] via-[--value(--color-*)]/95 to-[--value(--color-*)];
        }
      }
    }

    /* Soft button styles */
    &.btn-soft {
      @apply text-[--value(--color-*)] bg-[--value(--color-*)]/5 ring-[0.5px] ring-[--value(--color-*)]/20;

      @media (hover: hover) {
        &:hover {
          @apply ring-1;
        }
      }
    }

    /* Default size if no size class is present */
    &:not(.btn-xs, .btn-sm, .btn-md, .btn-lg, .btn-xl, .btn-2xl) {
      @apply px-3.5 py-2.5 text-sm;
    }

    /* Button sizes */
    &.btn-xs { @apply px-2.5 py-1.5 text-xs; }
    &.btn-sm { @apply  }
    &.btn-md { @apply px-3.5 py-2.5 text-sm; }
    &.btn-lg { @apply px-4 py-3 text-base; }
    &.btn-xl { @apply px-4.5 py-3.5 text-base; }
    &.btn-2xl { @apply px-5 py-4 text-base; }

    /* Button modifiers */
    &.btn-circle { @apply rounded-full size-auto aspect-square; }
    &.btn-square { @apply size-auto aspect-square; }
    &.btn-wide { @apply w-full max-w-xs; }
    &.btn-block { @apply w-full; }
  }
}
