@import "../theme/jams/base.css";

@utility btn {
  @reference btn-md;
  line-height: 1.5;
  width: var(--btn-width);
  max-width: var(--btn-max-width);
  transition: translate 0.2s ease-out, visibility 0.2s allow-discrete, background-color 0.2s ease-out, opacity 0.1s ease-out, border-color 0.3s;
  position: relative;
  display: var(--btn-display, inline-flex);
  gap: 0.375rem;
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  align-self: flex-start;
  flex-wrap: nowrap;
  vertical-align: middle;
  font-weight: 500;
  text-align: center;
  border-radius: var(--btn-radius, var(--radius-btn));
  overflow: hidden;
  cursor: pointer;
  box-sizing: border-box;

  padding-inline: theme(--btn-inline);
  padding-block: theme(--btn-block);
  font-size: theme(--btn-text-size);

  background-color: var(--btn-bg-color);
  color: var(--btn-text-color);

  outline-color: var(--btn-outline-color);
  outline-style: var(--btn-outline-style);
  outline-width: var(--btn-outline-width);

  text-decoration: var(--btn-text-decoration);
  text-underline-offset: var(--btn-text-underline-offset);

  &:is(:disabled, [disabled], .btn-disabled) {
    opacity: 20%;
    cursor: not-allowed;
    pointer-events: none;
  }

  &:is(input[type="checkbox"], input[type="radio"]) {
    appearance: none;

    &::after {
      content: attr(aria-label);
    }

    &:checked {
      isolation: isolate;
    }
  }

  &:focus-visible {
    outline: 2px solid var(--btn-700, currentColor);
    outline-offset: 2px;
    isolation: isolate;
  }

  @media (hover: hover) {
    &:is(:hover) {
      @reference btn-active;
    }
  }

  @theme inline {
    --btn-50: theme(--color-default-50);
    --btn-100: theme(--color-default-100);
    --btn-200: theme(--color-default-200);
    --btn-300: theme(--color-default-300);
    --btn-400: theme(--color-default-400);
    --btn-500: theme(--color-default-500);
    --btn-600: theme(--color-default-600);
    --btn-700: theme(--color-default-700);
    --btn-800: theme(--color-default-800);
    --btn-900: theme(--color-default-900);
    --btn-950: theme(--color-default-950);
  }

  --btn-bg-color: theme(--btn-200);
  --btn-text-color: theme(--btn-900);

  @variant dark {
    --btn-bg-color: theme(--btn-800);
    --btn-text-color: theme(--btn-50);
  }
}

@utility btn-xs {
  --btn-inline: 0.875rem;
  --btn-block: 0.375rem;
  --btn-text-size: 0.75rem;
}

@utility btn-sm {
  --btn-inline: 1rem;
  --btn-block: 0.5rem;
  --btn-text-size: 0.875rem;
}

@utility btn-md {
  @theme inline {
    --btn-inline: 1.125rem;
    --btn-block: 0.625rem;
    --btn-text-size: 1rem;
  }
}

@utility btn-lg {
  --btn-inline: 1.25rem;
  --btn-block: 0.75rem;
  --btn-text-size: 1.125rem;
}

@utility btn-xl {
  --btn-inline: 1.375rem;
  --btn-block: 0.875rem;
  --btn-text-size: 1.25rem;
}

@utility btn-2xl {
  --btn-inline: 1.5rem;
  --btn-block: 1rem;
  --btn-text-size: 1.375rem;
}

@utility btn-square {
  &:where(.btn-square, .btn-circle) {
    padding-inline: var(--btn-block);
    padding-block: var(--btn-block);
  }
}

@utility btn-rounded {
  --btn-radius: calc(infinity * 1px);
}

@utility btn-circle {
  @reference btn-square btn-rounded;
}

@utility btn-wide {
  --btn-max-width: var(--container-xs);
  --btn-width: 100%;
}

@utility btn-block {
  --btn-width: 100%;
  --btn-display: block;
}

@utility btn-active {
  &:is(.btn-link) {
    --btn-bg-color: transparent;
    --btn-text-color: light-dark(var(--btn-800), var(--btn-500));
    --btn-text-decoration: underline;
    --btn-text-underline-offset: 4px;
  }

  &:is(.btn-ghost) {
    /* for default btn */
    &:not(
        .btn-primary,
        .btn-secondary,
        .btn-accent,
        .btn-info,
        .btn-success,
        .btn-warning,
        .btn-error
      ) {
      --btn-bg-color: light-dark(var(--btn-200), var(--btn-900));
      --btn-text-color: light-dark(var(--btn-950), var(--btn-100));
    }

    /* for all btn exclude default btn */
    &:is(
        .btn-primary,
        .btn-secondary,
        .btn-accent,
        .btn-info,
        .btn-success,
        .btn-warning,
        .btn-error
      ) {
      --btn-bg-color: light-dark(var(--btn-700), var(--btn-900));
      --btn-text-color: light-dark(var(--btn-50), var(--btn-100));
    }
  }

  &:not(.btn-link, .btn-ghost) {
    /* for default btn */
    &:not(
        .btn-primary,
        .btn-secondary,
        .btn-accent,
        .btn-info,
        .btn-success,
        .btn-warning,
        .btn-error
      ) {
      --btn-bg-color: light-dark(var(--btn-300), var(--btn-900));
      --btn-text-color: light-dark(var(--btn-950), var(--btn-100));
    }

    /* for all btn exclude default btn */
    &:is(
        .btn-primary,
        .btn-secondary,
        .btn-accent,
        .btn-info,
        .btn-success,
        .btn-warning,
        .btn-error
      ) {
      @theme inline {
        --btn-bg-color: theme(--btn-800);
        --btn-text-color: theme(--btn-50);
      }

      @variant dark {
        @theme inline {
          --btn-bg-color: theme(--btn-800);
          --btn-text-color: theme(--btn-100);
        }
      }
    }

    --btn-outline-style: none;
  }
}

@utility btn-dashed {
  &:not(.btn-active) {
    --btn-bg-color: transparent;
    --btn-text-color: light-dark(var(--btn-700), var(--btn-500));
    --btn-outline-color: light-dark(var(--btn-500), var(--btn-700));
    --btn-outline-style: dashed;
    --btn-outline-width: 1px;
  }
}

@utility btn-outline {
  &:not(.btn-active) {
    --btn-bg-color: transparent;
    --btn-text-color: light-dark(var(--btn-800), var(--btn-200));

    --btn-outline-color: light-dark(var(--btn-500), var(--btn-800));
    --btn-outline-style: solid;
    --btn-outline-width: 1px;
  }
}

@utility btn-soft {
  &:not(.btn-active) {
    --btn-bg-color: light-dark(
      var(--btn-100),
      color-mix(in oklab, var(--btn-900) 30%, transparent)
    );
    --btn-text-color: light-dark(var(--btn-800), var(--btn-400));
  }
}

@utility btn-ghost {
  &:not(.btn-active) {
    --btn-bg-color: transparent;
    --btn-text-color: light-dark(var(--btn-600), var(--btn-300));
  }
}

@utility btn-link {
  &:not(.btn-active) {
    --btn-bg-color: transparent;
    --btn-text-color: light-dark(var(--btn-700), var(--btn-400));
  }
}

@utility btn-primary {
  --btn-50: theme(--color-primary-50);
  --btn-100: theme(--color-primary-100);
  --btn-200: theme(--color-primary-200);
  --btn-300: theme(--color-primary-300);
  --btn-400: theme(--color-primary-400);
  --btn-500: theme(--color-primary-500);
  --btn-600: theme(--color-primary-600);
  --btn-700: theme(--color-primary-700);
  --btn-800: theme(--color-primary-800);
  --btn-900: theme(--color-primary-900);
  --btn-950: theme(--color-primary-950);

  --btn-bg-color: light-dark(var(--btn-700), var(--btn-700));
  --btn-text-color: var(--btn-50);
}

@utility btn-secondary {
  --btn-50: theme(--color-secondary-50);
  --btn-100: theme(--color-secondary-100);
  --btn-200: theme(--color-secondary-200);
  --btn-300: theme(--color-secondary-300);
  --btn-400: theme(--color-secondary-400);
  --btn-500: theme(--color-secondary-500);
  --btn-600: theme(--color-secondary-600);
  --btn-700: theme(--color-secondary-700);
  --btn-800: theme(--color-secondary-800);
  --btn-900: theme(--color-secondary-900);
  --btn-950: theme(--color-secondary-950);

  --btn-bg-color: light-dark(var(--btn-700), var(--btn-700));
  --btn-text-color: var(--btn-50);
}

@utility btn-accent {
  --btn-50: theme(--color-accent-50);
  --btn-100: theme(--color-accent-100);
  --btn-200: theme(--color-accent-200);
  --btn-300: theme(--color-accent-300);
  --btn-400: theme(--color-accent-400);
  --btn-500: theme(--color-accent-500);
  --btn-600: theme(--color-accent-600);
  --btn-700: theme(--color-accent-700);
  --btn-800: theme(--color-accent-800);
  --btn-900: theme(--color-accent-900);
  --btn-950: theme(--color-accent-950);

  --btn-bg-color: light-dark(var(--btn-700), var(--btn-700));
  --btn-text-color: var(--btn-50);
}

@utility btn-info {
  --btn-50: theme(--color-info-50);
  --btn-100: theme(--color-info-100);
  --btn-200: theme(--color-info-200);
  --btn-300: theme(--color-info-300);
  --btn-400: theme(--color-info-400);
  --btn-500: theme(--color-info-500);
  --btn-600: theme(--color-info-600);
  --btn-700: theme(--color-info-700);
  --btn-800: theme(--color-info-800);
  --btn-900: theme(--color-info-900);
  --btn-950: theme(--color-info-950);

  --btn-bg-color: light-dark(var(--btn-700), var(--btn-700));
  --btn-text-color: var(--btn-50);
}

@utility btn-success {
  --btn-50: theme(--color-success-50);
  --btn-100: theme(--color-success-100);
  --btn-200: theme(--color-success-200);
  --btn-300: theme(--color-success-300);
  --btn-400: theme(--color-success-400);
  --btn-500: theme(--color-success-500);
  --btn-600: theme(--color-success-600);
  --btn-700: theme(--color-success-700);
  --btn-800: theme(--color-success-800);
  --btn-900: theme(--color-success-900);
  --btn-950: theme(--color-success-950);

  --btn-bg-color: light-dark(var(--btn-700), var(--btn-700));
  --btn-text-color: var(--btn-50);
}

@utility btn-warning {
  --btn-50: theme(--color-warning-50);
  --btn-100: theme(--color-warning-100);
  --btn-200: theme(--color-warning-200);
  --btn-300: theme(--color-warning-300);
  --btn-400: theme(--color-warning-400);
  --btn-500: theme(--color-warning-500);
  --btn-600: theme(--color-warning-600);
  --btn-700: theme(--color-warning-700);
  --btn-800: theme(--color-warning-800);
  --btn-900: theme(--color-warning-900);
  --btn-950: theme(--color-warning-950);

  --btn-bg-color: light-dark(var(--btn-700), var(--btn-700));
  --btn-text-color: var(--btn-50);
}

@utility btn-error {
  --btn-50: theme(--color-error-50);
  --btn-100: theme(--color-error-100);
  --btn-200: theme(--color-error-200);
  --btn-300: theme(--color-error-300);
  --btn-400: theme(--color-error-400);
  --btn-500: theme(--color-error-500);
  --btn-600: theme(--color-error-600);
  --btn-700: theme(--color-error-700);
  --btn-800: theme(--color-error-800);
  --btn-900: theme(--color-error-900);
  --btn-950: theme(--color-error-950);

  --btn-bg-color: light-dark(var(--btn-700), var(--btn-700));
  --btn-text-color: var(--btn-50);
}
